import agnostify from './agnostify'

describe('The agnostify helper function', () => {
  it('should strip away the protocol from a href url', () => {
    expect(agnostify('<a href="https://a.b.c:d:e">LINK</a>')).toBe('<a href="//a.b.c:d:e">LINK</a>')
    expect(agnostify('<a href="HTTPS://a.b.c:d:e">LINK</a>')).toBe('<a href="//a.b.c:d:e">LINK</a>')
    expect(agnostify('<a href="htTPS://a.b.c:d:e">LINK</a>')).toBe('<a href="//a.b.c:d:e">LINK</a>')
  })

  it('should strip away the protocol from a src url', () => {
    expect(agnostify('<img src="https://a.b.c:d:e" />')).toBe('<img src="//a.b.c:d:e" />')
    expect(agnostify('<img src="HTTPS://a.b.c:d:e" />')).toBe('<img src="//a.b.c:d:e" />')
    expect(agnostify('<img src="htTPS://a.b.c:d:e" />')).toBe('<img src="//a.b.c:d:e" />')
  })
})
