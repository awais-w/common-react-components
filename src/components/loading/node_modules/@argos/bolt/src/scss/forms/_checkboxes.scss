/* stylelint-disable selector-max-specificity, no-descending-specificity */
@import '../abstracts/variables';

$tick: './tick.svg';

.radio,
.checkbox {
  position: relative;
  line-height: 24px;
  padding: 0;

  &:not(:last-child) {
    margin-bottom: 12px;
  }
}

.radio--bordered {
  padding: 0 0 5px;
}

.radio__input,
.checkbox__input {
  position: absolute;
  left: 0;
  opacity: 0;

  &:focus {
    text-decoration: none;
  }
}

.radio__label,
.checkbox__label {
  cursor: pointer;
  display: flex;
  align-items: center;
}

.radio__label--bordered {
  background-color: $color-grey-mid;
  border: 2px solid $color-grey-mid;
  border-radius: 3px;
  padding: 10px;
}

.radio__label::before,
.checkbox__label::before {
  content: '';
  width: 20px;
  height: 20px;
  max-width: 20px;
  flex: 0 0 20px;
  margin-right: 10px;
  box-sizing: border-box;
  background-color: $color-white;
  border: 1px solid $color-grey-mid;
  cursor: pointer;
}

// prevent the bolt-checkbox being displayed if the input has the sr-only class on it.
.radio__input.sr-only + .radio__label,
.checkbox__input.sr-only + .checkbox__label {
  display: flex;

  &::before {
    content: none !important; // stylelint-disable-line declaration-no-important
  }
}

.radio__label::before {
  border-radius: 50%;
  max-height: 20px;
  max-width: 20px;
  position: relative;
  display: block;
  box-sizing: inherit;
}

.checkbox__label::before {
  border-radius: 3px;
  font-size: 11px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding-top: 6px;
  color: $color-white;
}

.radio__input:checked + .radio__label--bordered {
  background-color: $color-white;
  border: 2px solid $color-blue-cobalt;
  border-radius: 3px;
  margin: 0;
  padding: 10px;
}

.radio__input:checked + .radio__label::before {
  border: 6px solid $color-blue-cobalt;
}

.checkbox__input:checked + .checkbox__label::before {
  border-color: $color-blue-cobalt;
  background-color: $color-blue-cobalt;
}

.checkbox__input:checked + .checkbox__label::after {
  content: '';
  left: 3px;
  position: absolute;
  width: 13px;
  height: 13px;
  top: 50%;
  margin-top: -5.5px;
  background-image: svg-load($tick, fill= $color-white);
  background-repeat: no-repeat;
  background-size: contain;
}

.checkbox__input:focus + .checkbox__label {
  text-decoration: underline;

  &::before {
    box-shadow: 0 0 2px $color-blue-cobalt;
    border: 1px solid $color-blue-cobalt;
  }
}

/* This is an exception to the lint rules... */
/* stylelint-disable */
.radio__input:focus:not(:checked) + .radio__label {
  text-decoration: underline;

  &::before {
    box-shadow: 0 0 2px $color-blue-cobalt;
    border: 1px solid $color-blue-cobalt;
  }
}

.radio__input:focus:checked + .radio__label {
  text-decoration: underline;

  &::before {
    box-shadow: 0 0 2px $color-blue-cobalt;
  }
}
/* stylelint-enable */
